{% extends '::base.html.twig' %}

{% block title %}
Edit {{batch.Name}}
{% endblock %}

{% block javascripts %}
<script src="{{ asset('bundles/brewbloggerbatch/js/app.js') }}" type="text/javascript"></script>
{% endblock %}

{% block stylesheets %}
<link href="{{ asset('bundles/brewbloggerbatch/css/app.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block body %}
<h1>Edit Batch</h1>
<div class="error">{{ form_errors(form) }}</div>
<form method="post" {{ form_enctype(form) }}>
    <fieldset>
        <legend>General Information</legend>
        {{ form_row(form.name) }}
        {{ form_row(form.batchnum) }}
        {{ form_row(form.featured) }}
        {{ form_row(form.archive) }}
        {{ form_row(form.style) }}
        {{ form_row(form.yield) }}
        {{ form_row(form.method) }}
        {{ form_row(form.condition) }}
        {{ form_row(form.date) }}
        {{ form_row(form.tapdate) }}
        {{ form_row(form.status) }}
        {{ form_row(form.cost) }}
        {{ form_row(form.info) }}
        {{ form_row(form.comments) }}
    </fieldset>
    <fieldset class="form-inline">
        <legend>Malt Extracts</legend>
        {% for extract in form.extracts %}
        <div class="span12">
        <div class="span4">
            {{ form_row(extract.name) }}
        </div>
        <div class="span2">
            {{ form_row(extract.weight) }}
        </div>
        </div>
        {% endfor %}
    </fieldset>
    <fieldset>
        <legend>Grains</legend>
        {% for grain in form.grains %}
        <div class="span12">
        <div class="span4">
            {{ form_row(grain.name) }}
        </div>
        <div class="span2">
            {{ form_row(grain.weight) }}
        </div>
        </div>
        {% endfor %}
    </fieldset>
    <fieldset>
        <legend>Adjuncts</legend>
        {% for adjunct in form.adjuncts %}
        <div class="span12">
        <div class="span4">
            {{ form_row(adjunct.name) }}
        </div>
        <div class="span2">
            {{ form_row(adjunct.weight) }}
        </div>
        </div>
        {% endfor %}
    </fieldset>
    <fieldset>
        <legend>Miscellaneous (NON-Fermentable Ingredients)</legend>
        {% for misc in form.MiscIngredients %}
        <div class="span12">
        <div class="span4">
            {{ form_row(misc.name) }}
        </div>
        <div class="span2">
            {{ form_row(misc.weight) }}
        </div>
        <div class="span2">
            {{ form_row(misc.time) }}
        </div>
        </div>
        {% endfor %}
    </fieldset>
        <fieldset class="collection-manager" data-prototype="{% filter escape() %}{{ include('BrewBloggerBatchBundle:Default:form-hops.html.twig', {'hop' : form.Hops.vars.prototype}) }}{% endfilter %}">
        <legend>Hops</legend>
        <div class="collection-container">
        {% for hop in form.Hops %}
        {% include 'BrewBloggerBatchBundle:Default:form-hops.html.twig' %}
        {% endfor %}
        </div>
        <button class="btn btn-success pull-right collection-add"><i class="icon-plus icon-white"></i>Add Hop Addition</button>
    </fieldset>
    <fieldset class="form-inline">
        <legend>Bitterness</legend>
        {{ form_row(form.bitterness) }}
        {{ form_row(form.ibuformula) }}
    </fieldset>
    <fieldset>
        <legend>Color</legend>
        {{ form_row(form.lovibond) }}
        {{ form_row(form.colorformula) }}
    </fieldset>
    <fieldset>
        <legend>Water</legend>
        {{ form_row(form.waterProfile) }}
    </fieldset>
    <fieldset>
        <legend>Equipment</legend>
        {{ form_row(form.EquipmentProfile) }}
    </fieldset>
    <fieldset>
        <legend>Mash</legend>
        {{ form_row(form.mashProfile) }}
        {{ form_row(form.waterratio) }}
        {{ form_row(form.preboilamt) }}
        {{ form_row(form.mashgravity) }}
    </fieldset>
    <fieldset>
        <legend>Boil</legend>
        {{ form_row(form.boiltime) }}
    </fieldset>
    <fieldset class="form-inline">
        <legend>Yeast</legend>
        {{ form_row(form.yeastProfile) }}
        {{ form_row(form.yeastamount) }}
    </fieldset>
    <fieldset>
        <legend>Gravity</legend>
        <div class="span12">
            <div class="span2">
            {{ form_row(form.og) }}
            </div>
            <div class="span2">
            {{ form_row(form.targetog) }}
            </div>
            <div class="span2">
            {{ form_row(form.fg) }}
            </div>
            <div class="span2">
            {{ form_row(form.targetfg) }}
            </div>
        </div>
        <div class="span12">
            <div class="span2">
            {{ form_row(form.gravity1) }}
            </div>
            <div class="span2">
            {{ form_row(form.gravity1days) }}
            </div>
            <div class="span2">
            {{ form_row(form.gravity2) }}
            </div>
            <div class="span2">
            {{ form_row(form.gravity2days) }}
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Procedure</legend>
        {{ form_row(form.procedure) }}
        {{ form_row(form.specialprocedure) }}
    </fieldset>
    <fieldset>
        <legend>Fermenting, Lagering, and Aging</legend>
        {{ form_row(form.primarydays) }}
        {{ form_row(form.primarytemp) }}
        {{ form_row(form.secondarydays) }}
        {{ form_row(form.secondarytemp) }}
        {{ form_row(form.tertiarydays) }}
        {{ form_row(form.tertiarytemp) }}
        {{ form_row(form.lagerdays) }}
        {{ form_row(form.lagertemp) }}
        {{ form_row(form.agedays) }}
        {{ form_row(form.agetemp) }}
    </fieldset>
    <fieldset>
        <legend>Label Image</legend>
        {{ form_row(form.labelimage) }}
    </fieldset>
    <fieldset>
        <legend>Related Links</legend>
        {{ form_row(form.link1name) }}
        {{ form_row(form.link1) }}
        {{ form_row(form.link2name) }}
        {{ form_row(form.link2) }}
    </fieldset>
    {{ form_rest(form) }}
    <button class="btn btn-primary">Save</button>
</form>
{% endblock %}